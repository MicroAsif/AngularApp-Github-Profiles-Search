importScripts('/base/test/zone_worker_entry_point.ts');
zone.fork().run(function () {
    var websocket = new WebSocket('ws://localhost:8001');
    websocket.addEventListener('open', function () {
        var outerZone = self.zone;
        websocket.onmessage = function () {
            if (self.zone.parent === outerZone) {
                self.postMessage('pass');
            }
            else {
                self.postMessage('fail');
            }
        };
        websocket.send('text');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3Mtd2Vid29ya2VyLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90ZXN0L3dzLXdlYndvcmtlci1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLGFBQWEsQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO0FBRXZELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDZCxJQUFJLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ3JELFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7UUFDakMsSUFBSSxTQUFTLEdBQVMsSUFBSyxDQUFDLElBQUksQ0FBQztRQUNqQyxTQUFTLENBQUMsU0FBUyxHQUFHO1lBQ3BCLEVBQUUsQ0FBQSxDQUFPLElBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLElBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNBLElBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEMsQ0FBQztRQUNILENBQUMsQ0FBQztRQUNGLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDekIsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgdmFyIHpvbmU7XG5pbXBvcnRTY3JpcHRzKCcvYmFzZS90ZXN0L3pvbmVfd29ya2VyX2VudHJ5X3BvaW50LnRzJyk7XG5cbnpvbmUuZm9yaygpLnJ1bigoKSA9PiB7XG4gIHZhciB3ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KCd3czovL2xvY2FsaG9zdDo4MDAxJyk7XG4gIHdlYnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgIHZhciBvdXRlclpvbmUgPSAoPGFueT5zZWxmKS56b25lO1xuICAgIHdlYnNvY2tldC5vbm1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICBpZigoPGFueT5zZWxmKS56b25lLnBhcmVudCA9PT0gb3V0ZXJab25lKSB7XG4gICAgICAgICg8YW55PnNlbGYpLnBvc3RNZXNzYWdlKCdwYXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoPGFueT5zZWxmKS5wb3N0TWVzc2FnZSgnZmFpbCcpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2Vic29ja2V0LnNlbmQoJ3RleHQnKTtcbiAgfSk7XG59KTtcbiJdfQ==